# Example environment variables for local development
# Copy this file to `.env` and edit values before `docker-compose up`.

# -------------------------
# Ports / Port mappings
# -------------------------
# There are two kinds of port variables in this project:
# 1) Host-published ports (used by Docker Compose to map a host port to a container port).
#    Examples below (you can change these for local dev if you want the service reachable
#    on specific localhost ports). These are optional — if left blank Docker will choose
#    ephemeral host ports.
#    - A_PORT, PORT_Admin, PORT, PORT_Delivery, PORT_Payment, PORT_Notification, PORT_Restaurant
#
# 2) Container internal ports: each service listens on a fixed internal port inside
#    the container. These are authoritative for service-to-service communication
#    and Prometheus scraping. Do NOT override these by assigning a host port value
#    into the container `PORT` environment variable.
#    Internal (container) ports used by services:
#      auth-service:         5001
#      admin-service:        5008
#      order-service:        5002
#      delivery-service:     5004
#      payment-service:      5004
#      notification-service: 5007
#      restaurant:           5006
#
# Host-published port variables (optional — used for mapping host->container):
A_PORT=5001            # host port mapped to auth-service container port 5001
PORT_Admin=5008        # host port mapped to admin-service container port 5008
PORT=5002              # host port mapped to order-service container port 5002
PORT_Delivery=5004     # host port mapped to delivery-service container port 5004
PORT_Payment=5004      # host port mapped to payment-service container port 5004
PORT_Notification=5007 # host port mapped to notification-service container port 5007
PORT_Restaurant=5006   # host port mapped to restaurant container port 5006

# -------------------------
# MongoDB URIs (if not using the bundled mongo container)
# -------------------------
MONGO_URI_Admin=mongodb://mongo:27017/admin
MONGO_URI_Delivery=mongodb://mongo:27017/delivery
MONGO_URI_Restaurant=mongodb://mongo:27017/restaurant
MONGO_URI=mongodb://mongo:27017/default

# -------------------------
# Authentication / JWT
# -------------------------
JWT_SECRET=change_this_secret
JWT_REFRESH_SECRET=change_this_refresh_secret
JWT_EXPIRE=1h
JWT_REFRESH_EXPIRE=7d

# -------------------------
# Service discovery / internal URLs
# -------------------------
AUTH_SERVICE_URL=http://auth-service:5001
RESTAURANT_SERVICE_URL=http://restaurant:5006
ORDER_SERVICE_URL=http://order-service:5002
ADMIN_SERVICE_URL=http://admin-service:5008
ORDERS_SERVICE_URL=http://order-service:5002

# -------------------------
# CORS / Frontend
# -------------------------
CORS_ORIGIN=http://localhost:3000

# -------------------------
# Payment providers (placeholders)
# -------------------------
PAYHERE_MERCHANT_ID=your_payhere_merchant_id
PAYHERE_SECRET=your_payhere_secret
PAYHERE_BASE_URL=https://sandbox.payhere.com
STRIPE_WEBHOOK_SECRET=your_stripe_webhook_secret
STRIPE_SECRET_KEY=sk_test_replace_me

# -------------------------
# Google / Expo / Websocket
# -------------------------
GOOGLE_MAPS_API_KEY=your_google_maps_key
EXPO_PUBLIC_API_URL=http://localhost:3000
EXPO_PUBLIC_DELIVERY_API_URL=http://localhost:3000
WEBSOCKET_ENABLED=false

# -------------------------
# Feature flags & misc
# -------------------------
ENABLE_KAFKA=false
AUTO_SEED_ADMIN=false
ADMIN_EMAIL=admin@example.com
ADMIN_PASSWORD=changeme
ADMIN_NAME=Admin
ADMIN_PHONE=0123456789

# -------------------------
# Notification / Other
# -------------------------
PORT_Notification=5007

# Notes:
# - Do NOT commit real secrets to the repo. Keep `.env` out of version control.
# - After creating `.env`, run `docker-compose up -d --build` to apply.
